{% extends 'main/layout.html' %}
{% load static %}

{% block title %}Главная страница{% endblock %}

{% block style %}
<link rel="stylesheet" href="{% static 'main/css/index.css' %}">
{% endblock %}

{% block content %}
<div class="background">
    <div class="features52">
        <h1 class="web-platform1">Веб-платформа</h1>
        <div class="onlinebox">
            <div class="textinbox">онлайн занятий</div>
            <div class="rectangleinbox"></div>
            <div class="rectangleinbox2"></div>
        </div>
        <div class="textunderonlinebox">Обучайтесь дистанционно в комфортных условиях, не выходя за рамки платформы
            Профессионалы вашей сферы помогут вам с изучением любых материалов и задач
        </div>
        <div class="pen">
            <img src="{% static 'main/img/pen.svg' %}">
        </div>
        <div class="backpack">
            <img src="{% static 'main/img/backpack.svg' %}">
        </div>
        <div class="dnevnik">
            <img src="{% static 'main/img/dnevnik.svg' %}">
        </div>
        <div class="noj">
            <img src="{% static 'main/img/noj.svg' %}">
        </div>
        <div class="lineika">
            <img src="{% static 'main/img/lineika.svg' %}">
        </div>
        <div class="skrepka" id="skrepka">
            <img src="{% static 'main/img/skrepka.svg' %}">
        </div>
        <div class="people">
            <img src="{% static 'main/img/people.svg' %}" alt="people">
        </div>
        <div class="peopleline">
            <img src="{% static 'main/img/peopleline.png' %}" alt="peopleline">
        </div>
    </div>
    <div>
        <div class="helptext">Помощь по любым предметам</div>
        <div class="linesunderhelptext">
            <img src="{% static 'main/img/linesunderhelptext.svg' %}">
        </div>
        <div class="rectangleupperhelptext"></div>
        <div class="rectangleupperhelptext2"></div>
    </div>
    <div class="leftimg"></div>
    <div class="rightimg"></div>
    <div class="imgblock">
        <div class="engimg"><img src="{% static 'main/img/eng.svg' %}"></div>
        <div class="ruimg"><img src="{% static 'main/img/ru.svg' %}"></div>
        <div class="informimg"><img src="{% static 'main/img/inform.svg' %}"></div>
        <div class="bioimg"><img src="{% static 'main/img/bio.svg' %}"></div>
        <div class="historyimg"><img src="{% static 'main/img/history.svg' %}"></div>
    </div>
    <h51 class="ustal">Уставай меньше, узнавай</h51>
    <div class="bolshebox">
        <div class="textinbox">больше</div>
    </div>
    <div class="imgblock2">
        <div class="bigimg"><img src="{% static 'main/img/bigimg.png' %}"></div>
        <div class="littleimg"><img src="{% static 'main/img/littleimg.png' %}"></div>
        <div class="rec1">
        </div>
        <div class="rec1logo"><img src="{% static 'main/img/rec1logo.svg' %}"></div>
        <div class="rec1header">Быстрое обучение</div>
        <div class="rec1text">Не нужно тратить время на дорогу и подготовку. Наши видеозвонки и мессенджер позволяют
            учиться в любое время и месте, ускоряя процесс обучения
        </div>
        <div class="rec2">
        </div>
        <div class="rec2logo"><img src="{% static 'main/img/rec2logo.svg' %}"></div>
        <div class="rec2header">Доступно везде</div>
        <div class="rec2text">Неважно, где вы находитесь — платформа доступна даже в небольших городах и удалённых
            регионах, позволяя легко найти подходящего репетитора
        </div>
        <div class="rec3">
        </div>
        <div class="rec3logo"><img src="{% static 'main/img/rec3logo.svg' %}"></div>
        <div class="rec3header">Гибкость расписания</div>
        <div class="rec3text">Выберите удобное время для занятий. Онлайн-формат позволяет корректировать расписание под
            ваш ритм жизни
        </div>
        <div class="rec4">
        </div>
        <div class="rec4logo"><img src="{% static 'main/img/rec4logo.svg' %}"></div>
        <div class="rec4header">Простой поиск</div>
        <div class="rec4text">Удобный фильтр и рейтинг помогут быстро найти подходящего специалиста по вашей теме и
            уровню подготовки
        </div>
        <div class="rec5">
        </div>
        <div class="rec5logo"><img src="{% static 'main/img/rec5logo.svg' %}"></div>
        <div class="rec5header">Проверенные специалисты</div>
        <div class="rec5text">Каждый репетитор проходит тщательную проверку. Отзывы и рейтинги позволяют объективно
            оценить качество обучения
        </div>
        <div class="rec6">
        </div>
        <div class="rec6logo"><img src="{% static 'main/img/rec6logo.svg' %}"></div>
        <div class="rec6header">Поддержка платформы</div>
        <div class="rec6text">Наша техподдержка всегда на связи, чтобы обеспечить бесперебойную работу и ответить на
            ваши вопросы
        </div>
    </div>
</div>
<script>
    // Находим элемент .onlinebox
    const onlineBox = document.querySelector('.onlinebox');
    let initialRotation = 3.757; // начальный угол поворота в градусах

    window.addEventListener('scroll', () => {
        // Рассчитываем, насколько нужно повернуть
        const scrollRotation = window.scrollY * 0.02; // Коэффициент вращения

        // Обновляем поворот элемента, уменьшая его
        onlineBox.style.transform = `rotate(${initialRotation - scrollRotation}deg)`;
    });
</script>
<script>
    document.querySelectorAll('.imgblock div img').forEach(img => {
        img.addEventListener('mouseenter', () => {
            // Получаем текущие CSS стили изображения
            const topValue = parseInt(window.getComputedStyle(img.parentElement).top); // Изменение: используем parentElement для получения top

            // Если top равен 1140px, добавляем класс `.down`, иначе — `.up`
            if (topValue === 1140) {
                img.classList.add('up'); // Сдвигаем вниз
            } else if (topValue === 1230) {
                img.classList.add('down'); // Сдвигаем вверх
            }

            // Добавляем серый фильтр ко всем остальным изображениям
            document.querySelectorAll('.imgblock div img').forEach(otherImg => {
                if (otherImg !== img) {
                    otherImg.classList.add('gray');
                }
            });
        });

        img.addEventListener('mouseleave', () => {
            // Убираем классы `.up` и `.down` после ухода мыши
            img.classList.remove('up', 'down');

            // Убираем серый фильтр со всех остальных изображений
            document.querySelectorAll('.imgblock div img').forEach(otherImg => {
                otherImg.classList.remove('gray');
            });
        });
    });
</script>
<script>
    const skrepka = document.getElementById('skrepka');

    let isDragging = false;
    let offsetX, offsetY;

    // Предотвращаем перетаскивание по умолчанию
    skrepka.addEventListener('dragstart', (e) => {
        e.preventDefault();
    });

    skrepka.addEventListener('mousedown', (e) => {
        isDragging = true;
        offsetX = e.clientX - skrepka.getBoundingClientRect().left;
        offsetY = e.clientY - skrepka.getBoundingClientRect().top;
        skrepka.style.animation = 'none'; // Убираем анимацию
        skrepka.style.transform = 'scale(1.2)'; // Увеличиваем скрепку при захвате
    });

    document.addEventListener('mousemove', (e) => {
        if (isDragging) {
            skrepka.style.left = `${e.clientX - offsetX}px`;
            skrepka.style.top = `${e.clientY - offsetY}px`;
        }
    });

    document.addEventListener('mouseup', () => {
        isDragging = false;
        skrepka.style.animation = 'float 6s ease-in-out infinite'; // Возвращаем анимацию
        skrepka.style.transform = 'scale(1)'; // Возвращаем оригинальный размер
    });
</script>
<script>
document.addEventListener('DOMContentLoaded', () => {
    // Сопоставляем div-классы с фильтрами
    const filters = {
        engimg: 'Английский язык',
        ruimg: 'Русский язык',
        informimg: 'Информатика',
        bioimg: 'Биология',
        historyimg: 'История'
    };

    // Добавляем клик-обработчики для каждой картинки
    Object.keys(filters).forEach(className => {
        const element = document.querySelector(`.${className}`);
        if (element) {
            element.addEventListener('click', () => {
                const filter = filters[className];
                if (filter) {
                    window.location.href = `/catalog2?filter=${encodeURIComponent(filter)}`;
                }
            });
        }
    });
});
</script>

{% endblock %}
